(this.webpackJsonpmoneta=this.webpackJsonpmoneta||[]).push([[0],{192:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},295:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},312:function(e,t,a){},316:function(e,t){},318:function(e,t){},360:function(e,t){},361:function(e,t){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},500:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(63),l=a.n(r),o=(a(270),a(271),a(70)),i=a(8),u=(a(272),function(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),c=a[0],r=a[1];return[c,{value:c,onChange:function(e){r(e.target.value)}},function(){r(e)}]}),s=a(12),m=a.n(s),d=a(20),p=a(31),f={employee:{}},E="GET_EMPLOYEE",b="DEL_EMPLOYEE";function h(e){return{type:E,payload:e}}var v=a.p+"static/media/simplelogo.7d7d6adf.png",g=Object(d.b)(null,{getEmployee:h})((function(e){var t=u(""),a=Object(i.a)(t,3),n=a[0],r=a[1],l=a[2],o=u(""),s=Object(i.a)(o,3),d=s[0],p=s[1],f=s[2];return c.a.createElement("div",{className:"auth"},c.a.createElement("div",{className:"auth-flex"},c.a.createElement("div",{id:"logo-flex"},c.a.createElement("img",{src:v,alt:"logo",height:"100px"})),c.a.createElement("div",{className:"auth-container"},c.a.createElement("div",{className:"welcome"},c.a.createElement("div",null,"Welcome back to Moneta!"),c.a.createElement("h2",null,"Log in to get started",c.a.createElement("i",{className:"right"}))),c.a.createElement("div",{className:"login"},c.a.createElement("h1",null,"sign in"),c.a.createElement("div",null,c.a.createElement("input",Object.assign({},r,{type:"text",placeholder:"username"})),c.a.createElement("input",Object.assign({},p,{type:"password",placeholder:"password"}))),c.a.createElement("button",{onClick:function(){m.a.post("/api/auth/login",{username:n,password:d}).then((function(t){e.getEmployee(t.data),e.history.push("/checkout"),l(),f()}))}},"login")))))})),O={customer:[]},y="GET_CUSTOMER";function j(e){return{type:y,payload:e}}a(192);var N=a(501),_=a(35),C=a.n(_),x=a(45),k=a.n(x),S=Object(d.b)((function(e){return e}),{getCustomer:j})((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({}),u=Object(i.a)(o,2),s=u[0],d=u[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),g=v[0],O=v[1],y=Object(n.useState)(""),j=Object(i.a)(y,2),_=j[0],x=j[1],S=Object(n.useState)(""),T=Object(i.a)(S,2),w=T[0],F=T[1],M=k()(C.a);Object(n.useEffect)((function(){P(),A()}),[s.c_id,e.customer.customer.length]);var P=function(){m.a.get("/api/customer").then((function(t){e.getCustomer(t.data)}))},D=function(){m.a.post("/api/customer",{email:E,phone:g,first_name:_,last_name:w}).then((function(e){P(),b(""),O(""),x(""),F(""),M.fire({icon:"success",title:"Customer Added"})}))},A=function(){m.a.get("/api/customerSess").then((function(e){d(e.data)}))};return console.clear(),console.log(s),c.a.createElement("div",{style:{marginTop:"60px"}},r?c.a.createElement("div",{className:"add-form"},c.a.createElement("span",null,"EMAIL:")," ",c.a.createElement("input",{className:"customer-input",value:E,onChange:function(e){return b(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("span",null,"PHONE:")," ",c.a.createElement("input",{className:"customer-input",value:g,onChange:function(e){return O(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("span",null," FIRST NAME:")," ",c.a.createElement("input",{className:"customer-input",value:_,onChange:function(e){return x(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("span",null,"LAST NAME:")," ",c.a.createElement("input",{className:"customer-input",value:w,onChange:function(e){return F(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("button",{className:"save-button",onClick:function(){D(),l(!r)}},"SAVE")):c.a.createElement("button",{className:"other-buttons",onClick:function(){return l(!r)}},"ADD CUSTOMER"),c.a.createElement(N.a,{style:{marginTop:"50px"},striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Phone"),c.a.createElement("th",null,"First Name"),c.a.createElement("th",null,"Last Name"),c.a.createElement("th",null,"Add Customer to Order"))),c.a.createElement("tbody",null,e.customer.customer[0]&&e.customer.customer.sort((function(e,t){return e.t_id-t.t_id})).map((function(t,a){return console.log(typeof t.t_date),c.a.createElement("tr",{key:a,onDoubleClick:function(){return e.history.push("/customers/".concat(t.c_id))}},c.a.createElement("td",null,t.email),c.a.createElement("td",null,t.phone),c.a.createElement("td",null,t.first_name),c.a.createElement("td",null,t.last_name),c.a.createElement("td",null,c.a.createElement("button",{className:"other-buttons",onClick:function(){return a=t.c_id,void m.a.get("/api/customer/".concat(a)).then((function(t){A(t.data),e.history.push("/checkout")}));var a}},"Add To Order")))})))))})),T=a(67),w=a.n(T),F=Object(o.g)(Object(d.b)((function(e){return e}),{getCustomer:j})((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=e.customer.customer.filter((function(t){return+t.c_id===+e.match.params.c_id})),u=Object(i.a)(o,1)[0],s=Object(n.useState)(u.email),d=Object(i.a)(s,2),p=d[0],f=d[1],E=Object(n.useState)(u.phone),b=Object(i.a)(E,2),h=b[0],v=b[1],g=Object(n.useState)(u.first_name),O=Object(i.a)(g,2),y=O[0],j=O[1],_=Object(n.useState)(u.last_name),C=Object(i.a)(_,2),x=C[0],k=C[1];console.log(p);var S=Object(n.useState)([]),T=Object(i.a)(S,2),F=T[0],M=T[1],P=Object(n.useState)({sorter:function(){}}),D=Object(i.a)(P,2),A=D[0],R=D[1],$=Object(n.useState)(!0),I=Object(i.a)($,2),L=I[0],z=I[1],B=Object(n.useState)(!1),U=Object(i.a)(B,2),H=U[0],G=U[1],W=Object(n.useState)(!1),K=Object(i.a)(W,2),Y=K[0],J=K[1];Object(n.useEffect)((function(){Q()}),[]),console.log(F),Object(n.useEffect)((function(){console.log("sorter",A)}),[A]);var Q=function(){m.a.get("/api/transactions/customer/".concat(e.match.params.c_id)).then((function(e){M(e.data)})).catch((function(e){return console.log(e)}))};return console.log(e),c.a.createElement("div",{className:"customers-page"},c.a.createElement("h1",null,y," ",x),r?c.a.createElement("div",{className:"edit-form"},c.a.createElement("div",{className:"form-row"},c.a.createElement("span",null,"EMAIL: ")," ",c.a.createElement("input",{className:"customer-input",value:p,onChange:function(e){return f(e.target.value)}})),c.a.createElement("div",{className:"form-row"},c.a.createElement("span",null,"PHONE:")," ",c.a.createElement("input",{className:"customer-input",value:h,onChange:function(e){return v(e.target.value)}})),c.a.createElement("div",{className:"form-row"},c.a.createElement("span",null,"FIRST NAME:")," ",c.a.createElement("input",{className:"customer-input",value:y,onChange:function(e){return j(e.target.value)}})),c.a.createElement("div",{className:"form-row"},c.a.createElement("span",null,"LAST NAME:")," ",c.a.createElement("input",{className:"customer-input",value:x,onChange:function(e){return k(e.target.value)}})),c.a.createElement("button",{className:"save-button",onClick:function(){m.a.put("/api/customer/".concat(e.match.params.c_id),{email:p,phone:h,first_name:y,last_name:x}).then((function(t){e.history.push("/customers")}))}},"SAVE EDIT")):c.a.createElement("button",{className:"edit-customer-button",onClick:function(){return l(!r)}},"EDIT CUSTOMER"),c.a.createElement("div",{className:"whole-table"},c.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",{className:"header-row"},c.a.createElement("th",{onClick:function(){z(!L),R({sorter:function(e,t){return e.t_id-t.t_id}})}},"ID"),c.a.createElement("th",{onClick:function(){H?(z(!1),R({sorter:function(e,t){return t.total-e.total}}),G(!1)):(z(!1),R({sorter:function(e,t){return e.total-t.total}}),G(!0))}},"Total"),c.a.createElement("th",{onClick:function(){Y&&(z(!1),R({sorter:function(e,t){return t.paid-e.paid}}))}},"Paid"),c.a.createElement("th",{onClick:function(){Y?(z(!L),R({sorter:function(e,t){return e.t_id-t.t_id}}),J(!1)):(z(!L),R({sorter:function(e,t){return t.t_id-e.t_id}}),J(!0))}},"Time"))),c.a.createElement("tbody",null,F[0]&&F.sort(L?function(e,t){return t.t_id-e.t_id}:A.sorter).map((function(t,a){return console.log(typeof t.t_date),c.a.createElement("tr",{onClick:function(){e.history.push("/transactions/".concat(t.t_id))},key:a},c.a.createElement("td",null,t.t_id),c.a.createElement("td",null,"$",t.total),c.a.createElement("td",null,t.paid?"True":"False"),c.a.createElement("td",null,w()(t.t_date,"m/d/yy h:MM TT")))}))))))}))),M=(a(295),{products:[],loading:!1}),P="GET_PRODUCTS",D="EDIT_PRODUCT",A="DELETE_PRODUCT";function R(){var e=m.a.get("/api/product").then((function(e){return e.data}));return{type:P,payload:e}}var $=Object(d.b)((function(e){return e}))((function(e){return c.a.createElement("div",{className:"sidebar-container"},c.a.createElement("section",{className:"options-container"},c.a.createElement("span",{className:"sidebar-options",onClick:function(){return e.renderTypeFn("scoops")}},"scoops"),c.a.createElement("span",{className:"sidebar-options",onClick:function(){return e.renderTypeFn("soft-serve")}},"soft-serve"),c.a.createElement("span",{className:"sidebar-options",onClick:function(){return e.renderTypeFn("toppings")}},"toppings"),c.a.createElement("span",{className:"sidebar-options",onClick:function(){return e.renderTypeFn("cones")}},"cones")))})),I=a(53),L=a.n(I),z=a(90),B=Object(o.g)(Object(d.b)((function(e){return e}))((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(null),u=Object(i.a)(o,2),s=u[0],d=u[1],p=Object(n.useState)(0),f=Object(i.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(0),v=Object(i.a)(h,2),g=v[0],O=v[1],y=Object(n.useState)(0),j=Object(i.a)(y,2),N=j[0],_=j[1];Object(n.useEffect)((function(){var t=e.cart[0]&&e.cart.reduce((function(e,t){return e+ +t.price}),0).toFixed(2);b(t),_((.088*t).toFixed(2)),O((1.088*t).toFixed(2))}),[e.cart.length]);var C=function(){var t=Object(z.a)(L.a.mark((function t(a,n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cart.splice(a,n);case 2:m.a.put("/api/co/cart",e.cart).then((function(t){return e.setCart(t.data)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"cart-container"},c.a.createElement("section",{className:"cart-items"},e.cart[0]&&e.cart.map((function(e,t){return c.a.createElement("div",{onClick:function(){return function(e){d(e),l(!r)}(t)},id:"item",index:t,key:t},c.a.createElement("span",{id:"item-name"},e.name),c.a.createElement("section",{id:"price-button"},c.a.createElement("span",{style:{marginRight:"10px"}},"$",e.price),r&&s===t?c.a.createElement("button",{id:"remove-item",onClick:function(){return C(t,1)}},"X"):null))}))),c.a.createElement("strong",{className:"checkout-total"},"Subtotal: ",e.cart[0]?"$".concat(E):"$0"),c.a.createElement("strong",{className:"checkout-total"},"Tax: ",e.cart[0]?"$".concat(N):"$0"),c.a.createElement("strong",{className:"checkout-total"},"Total: ",e.cart[0]?"$".concat(g):"$0"),c.a.createElement("div",{className:"selected-customer-container"},c.a.createElement("span",null,"Customer: "),c.a.createElement("span",null,e.employee.employee.customer&&e.employee.employee.customer.first_name," ",e.employee.employee.customer&&e.employee.employee.customer.last_name),c.a.createElement("button",{onClick:function(){return e.history.push("/customers")},className:"add-customer-button"},"ADD CUSTOMER")),c.a.createElement("section",{style:{display:"flex",marginTop:"10px",justifyContent:"space-between"}},c.a.createElement("button",{className:"clear-button",onClick:function(){return C(0,e.cart.length)}},"CLEAR"),c.a.createElement("button",{className:"checkout-button",onClick:function(){return e.history.push("/payment")}},"CHECKOUT")))}))),U=(a(245),a(250)),H=a.n(U),G=Object(d.b)((function(e){return e}),{getProducts:R})((function(e){var t=e.product.products,a=Object(n.useState)([]),r=Object(i.a)(a,2),l=r[0],o=r[1],u=Object(n.useState)("scoops"),s=Object(i.a)(u,2),d=s[0],p=s[1];Object(n.useEffect)((function(){f()}),[t.length]),Object(n.useEffect)((function(){b()}),[]);var f=function(){m.a.get("/api/product").then((function(t){return e.getProducts(t.data)}))},E=function(e){m.a.post("/api/co/cart",e).then((function(e){return b()})).catch((function(e){return console.log(e)}))},b=function(){m.a.get("/api/co/cart").then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))};return console.log(e),c.a.createElement("div",{style:{paddingTop:"50px"},className:"checkout-container"},c.a.createElement($,{renderTypeFn:function(e){p(e)}}),c.a.createElement("div",{className:"all-products-container"},t[0]?t.filter((function(e){return e.p_type===d&&e.available})).map((function(e,t){return c.a.createElement("div",{key:t,onClick:function(){E(e)},onDragEnd:function(){return E(e)},className:"product-container"},c.a.createElement("img",{className:"product-image",src:e.p_image,alt:""}),c.a.createElement("section",{className:"product-text"},c.a.createElement("span",{className:"product-name"},e.name),c.a.createElement("span",{className:"product-price"},"$",e.price)))})):c.a.createElement("div",null,c.a.createElement(H.a,{color:"#408dff",loading:e.product.loading,size:300}))),c.a.createElement(B,{setCart:o,cart:l}))})),W={transactions:[]},K="GET_TRANSACTIONS";var Y=a(91),J=a(92),Q=a(96),V=a(95),X=a(251),q=a.n(X),Z=(a(301),function(e){Object(Q.a)(a,e);var t=Object(V.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getOneTransaction()},e.getOneTransaction=function(){m.a.get("/api/transactions/".concat(e.props.match.params.t_id)).then((function(t){e.setState({transaction:t.data}),console.log(e.state.transaction)}))},e.printContent=function(){var t=Object(z.a)(L.a.mark((function t(a){var n,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=document.body.innerHTML,c=document.getElementById(a).innerHTML,document.body.innerHTML=c,window.print(),document.body.innerHTML=n,e.props.history.push("/checkout"),window.location.reload();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={transaction:[]},e}return Object(J.a)(a,[{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.transaction;return c.a.createElement("div",{className:"one-transaction-container"},c.a.createElement("button",{className:"print-button",onClick:function(){return e.printContent("receipt")}},"Print"),t[0]?c.a.createElement("div",{id:"receipt",className:"receipt-container"},c.a.createElement("div",null,"Receipt #",t[0].t_id),c.a.createElement("div",null,"Customer:"," ",t[0].first_name.length>0?c.a.createElement("div",null,t[0].first_name+" "+t[0].last_name):"None"),c.a.createElement("div",null,w()(t.t_date,"m/d/yy h:MM TT")),c.a.createElement("div",{className:"all-receipt-items"},t.map((function(e,t){return c.a.createElement("div",{className:"receipt-item-and-price"},c.a.createElement("span",null,e.name),c.a.createElement("span",null,"$",e.price))}))),c.a.createElement("div",{className:"subtotal-total-container"},c.a.createElement("span",null,"Subtotal: $",t.reduce((function(e,t){return e+parseInt(t.price)}),0).toFixed(2)),c.a.createElement("span",null,"Tax: $",(+t[0].total-t.reduce((function(e,t){return e+parseInt(t.price)}),0)).toFixed(2)),c.a.createElement("span",null,c.a.createElement("strong",null,"Total: $",t[0].total)))):c.a.createElement("span",null,"loading..."))}}]),a}(n.Component)),ee=Object(o.g)(Z),te=function(e){Object(Q.a)(a,e);var t=Object(V.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{marginTop:"50px"}},c.a.createElement(q.a,{trigger:function(){return c.a.createElement("button",null,"Print this out!")},content:function(){return e.componentRef}}),c.a.createElement(ee,{transaction:this.props.transaction,ref:function(t){return e.componentRef=t}}))}}]),a}(n.Component),ae=(a(302),Object(d.b)((function(e){return e}),{getTransactions:function(e){return{type:K,payload:e}}})((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(),u=Object(i.a)(o,2),s=u[0],d=(u[1],Object(n.useState)(!1)),p=Object(i.a)(d,2),f=p[0],E=(p[1],Object(n.useState)({sorter:function(){}})),b=Object(i.a)(E,2),h=b[0],v=b[1],g=Object(n.useState)(!0),O=Object(i.a)(g,2),y=O[0],j=O[1],_=Object(n.useState)(!1),C=Object(i.a)(_,2),x=C[0],k=C[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),F=T[0],M=T[1],P=Object(n.useState)(!1),D=Object(i.a)(P,2),A=D[0],R=D[1];Object(n.useEffect)((function(){$()}),[]),console.log(r),Object(n.useEffect)((function(){console.log("sorter",h)}),[h]);var $=function(){m.a.get("/api/transactions").then((function(e){l(e.data)})).catch((function(e){return console.log(e)}))};return console.log(e),c.a.createElement("div",{className:"whole-table",style:{marginTop:"50px"}},f?c.a.createElement(te,{transaction:s}):c.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",{className:"header-row"},c.a.createElement("th",{onClick:function(){j(!y),v({sorter:function(e,t){return e.t_id-t.t_id}})}},"ID"),c.a.createElement("th",{onClick:function(){F?(j(!1),v({sorter:function(e,t){return t.total-e.total}}),M(!1)):(j(!1),v({sorter:function(e,t){return e.total-t.total}}),M(!0))}},"Total"),c.a.createElement("th",{onClick:function(){A&&(j(!1),v({sorter:function(e,t){return t.paid-e.paid}}))}},"Paid"),c.a.createElement("th",{onClick:function(){A?(j(!y),v({sorter:function(e,t){return e.t_id-t.t_id}}),R(!1)):(j(!y),v({sorter:function(e,t){return t.t_id-e.t_id}}),R(!0))}},"Time"),c.a.createElement("th",{onClick:function(){j(!1),x?(v({sorter:function(e,t){return e.first_name.length>0&&e.first_name<t.first_name?-1:e.first_name.length>0&&e.first_name>t.first_name?1:0}}),k(!1)):(v({sorter:function(e,t){return e.first_name.length>0&&t.first_name<e.first_name?-1:e.first_name.length>0&&t.first_name>e.first_name?1:0}}),k(!0))}},"First Name"),c.a.createElement("th",{onClick:function(){j(!1),x?(v({sorter:function(e,t){return e.first_name.length>0&&e.first_name<t.first_name?-1:e.first_name.length>0&&e.first_name>t.first_name?1:0}}),k(!1)):(v({sorter:function(e,t){return e.first_name.length>0&&t.first_name<e.first_name?-1:e.first_name.length>0&&t.first_name>e.first_name?1:0}}),k(!0))}},"Last Name"))),c.a.createElement("tbody",null,r[0]&&r.sort(y?function(e,t){return t.t_id-e.t_id}:h.sorter).map((function(t,a){return console.log(typeof t.t_date),c.a.createElement("tr",{onClick:function(){e.history.push("/transactions/".concat(t.t_id))},key:a},c.a.createElement("td",null,t.t_id),c.a.createElement("td",null,"$",t.total),c.a.createElement("td",null,t.paid?"True":"False"),c.a.createElement("td",null,w()(t.t_date,"m/d/yy h:MM TT")),c.a.createElement("td",null,t.first_name),c.a.createElement("td",null,t.last_name))})))))}))),ne=(a(303),a(304),Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],l=a[1],o=(k()(C.a),e.order.reduce((function(e,t){return e+1.088*+t.price}),0).toFixed(2)),u=function(){m.a.post("/api/transactions/cash",{total:o}).then((function(t){e.setResFn(t.data),e.clearCartFn()}))};return c.a.createElement("div",{id:"cash-container"},c.a.createElement("h1",null,"Cash"),c.a.createElement("form",{"data-testid":"cash-form"},c.a.createElement("div",{className:"payment-flex"},c.a.createElement("label",null,"$"),c.a.createElement("input",{value:r,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Amount"})),c.a.createElement("div",{className:"payment-flex"},c.a.createElement("input",{value:"$".concat(o),placeholder:"Total",readOnly:!0})),c.a.createElement("div",{className:"form-actions"},c.a.createElement("button",{className:"payment-button",onClick:function(){return function(t,a){var n=+t-+a,c=100*n,r=Math.floor(c/2e3);c-=2e3*r;var o=Math.floor(c/1e3);c-=1e3*o;var i=Math.floor(c/500);c-=500*i;var s=Math.floor(c/100);c-=100*s;var m=Math.floor(c/25);c-=25*m;var d=Math.floor(c/10);c-=10*d;var p=Math.floor(c/5);c-=5*p;var f={Money:n,Twenty:r,Ten:o,Five:i,One:s,Quarter:m,Dime:d,Nickel:p,Penny:Math.floor(c)},E=Object.keys(f).filter((function(e){return f[e]})).reduce((function(e,t){return e[t]=f[t],e}),{});return u(),e.togglePaidFn(),l(""),e.clearCartFn(),e.setChangeFn(E)}(r,o)}},"PAY"),c.a.createElement("small",null,"or"),c.a.createElement("button",{onClick:e.toggleCashFn,className:"payment-button"},"CARD"))))}))),ce=a(79),re=a(175),le=a.n(re),oe=k()(C.a),ie=Object(ce.injectStripe)((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({}),u=Object(i.a)(o,2),s=u[0],d=u[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(!1),v=Object(i.a)(h,2),g=v[0],O=v[1],y=Object(n.useState)({}),j=Object(i.a)(y,2),N=j[0],_=j[1];Object(n.useEffect)((function(){m.a.get("/api/co/cart").then((function(e){l(e.data)}))}),[r.length]);var C=function(){var t=Object(z.a)(L.a.mark((function t(a){var n,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stripe.createToken({name:"Name"});case 2:n=t.sent,c=r.reduce((function(e,t){return e+1.088*+t.price}),0).toFixed(2),m.a.post("/api/transactions",{total:c,token:n}).then((function(t){t.data&&(m.a.post("/api/email").then((function(e){return console.log("email sent")})),e.history.push("/transactions/".concat(t.data.t_id)),oe.fire({icon:"success",title:"Congrats...",text:"Order completed"}),x())}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){m.a.delete("/api/co/cart").then((function(e){l(e.data)}))},k=function(){b(!E)};return c.a.createElement("div",{style:{margin:"100px"},id:"PaymentForm"},E?c.a.createElement(le.a,{left:!0,duration:1e3},c.a.createElement(ne,{cash:E,toggleCashFn:k,togglePaidFn:function(){O(!g),b(!1)},setChangeFn:function(e){d(e)},setResFn:function(e){_(e)},order:r,clearCartFn:x})):c.a.createElement(c.a.Fragment,null,c.a.createElement(le.a,{left:!0,duration:1e3},c.a.createElement("div",{className:"card-container","data-testid":"card-container"},c.a.createElement("h1",null,"Card"),c.a.createElement(ce.CardElement,null),c.a.createElement("div",{className:"actions"},c.a.createElement("button",{onClick:C,className:"payment-button"},"PAY"),c.a.createElement("small",null,"or"),c.a.createElement("button",{onClick:k,className:"payment-button"},"CASH"))))),c.a.createElement("div",{className:"cart-payment"},c.a.createElement("h1",{style:{color:"#232323",fontSize:"40px",fontWeight:"bold"}},"Order"),c.a.createElement("div",{id:"order-container"},r[0]&&r.map((function(e,t){return c.a.createElement("div",{key:t,className:"orders"},c.a.createElement("span",null,e.name),c.a.createElement("span",null,e.price))})),c.a.createElement("span",{style:{color:"#232323",fontSize:"20px"}},"Subtotal: $"," ",r[0]&&r.reduce((function(e,t){return e+ +t.price}),0).toFixed(2)),c.a.createElement("span",{style:{color:"#232323",fontSize:"20px"}},"Tax: $"," ",r[0]&&r.reduce((function(e,t){return e+.088*+t.price}),0).toFixed(2)),c.a.createElement("span",{style:{color:"#232323",fontSize:"20px",fontWeight:"bold"}},"Total: $"," ",r[0]&&r.reduce((function(e,t){return e+1.088*+t.price}),0).toFixed(2))),c.a.createElement("button",{onClick:function(){return e.history.goBack()}},"GO BACK")),g?c.a.createElement("div",{id:"change-display"},c.a.createElement("span",null,c.a.createElement("div",{className:"change-flex"},c.a.createElement("div",null,c.a.createElement("p",null,"Change:"," "),c.a.createElement("p",null,"$",+s.Money.toFixed(2))),c.a.createElement("div",null,c.a.createElement("p",null,"Twenty:"," "),c.a.createElement("p",null,s.Twenty)),c.a.createElement("div",null,c.a.createElement("p",null,"Ten:"," "),c.a.createElement("p",null,s.Ten)),c.a.createElement("div",null,c.a.createElement("p",null,"Five:"," "),c.a.createElement("p",null,s.Five)),c.a.createElement("div",null,c.a.createElement("p",null,"One:"," "),c.a.createElement("p",null,s.One)),c.a.createElement("div",null,c.a.createElement("p",null,"Quarter:"," "),c.a.createElement("p",null,s.Quarter)),c.a.createElement("div",null,c.a.createElement("p",null,"Dime:"," "),c.a.createElement("p",null,s.Dime)),c.a.createElement("div",null,c.a.createElement("p",null,"Nickel:"," "),c.a.createElement("p",null,s.Nickel)),c.a.createElement("div",null,c.a.createElement("p",null,"Penny:"," "),c.a.createElement("p",null,s.Penny))),c.a.createElement("button",{onClick:function(){return e.history.push("/transactions/".concat(N.t_id)),void O(!1)}},"Okay"))):null)})),ue=a(71),se=(a(312),a.p+"static/media/RobotoMono-Regular.47313723.ttf"),me=a(16);me.b.register({family:"Roboto Mono",fonts:[{src:se}]});var de=function(e){Object(Q.a)(a,e);var t=Object(V.a)(a);function a(){var e;return Object(Y.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getOneTransaction()},e.getOneTransaction=function(){m.a.get("/api/transactions/".concat(e.props.match.params.t_id)).then((function(t){e.setState({transaction:t.data}),console.log(e.state.transaction)}))},e.state={transaction:[]},e}return Object(J.a)(a,[{key:"render",value:function(){var e,t=me.e.create({oneTransactionContainer:{boxSizing:"border-box"},receiptContainer:(e={display:"flex",flexDirection:"row",alignItems:"center",width:"100vw",boxSizing:"border-box",minHeight:"100vh"},Object(ue.a)(e,"display","flex"),Object(ue.a)(e,"flexDirection","column"),Object(ue.a)(e,"padding","10px 20px"),Object(ue.a)(e,"fontSize","12pt"),Object(ue.a)(e,"fontFamily","Roboto Mono"),e),receiptItemAndPrice:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",boxSizing:"border-box"},allReceiptItems:{width:"100%",borderTop:"1mm solid #408cff",borderBottom:"1mm solid #408cff",padding:"5px",marginTop:"5px"},subtotalTotalContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end",width:"100%"}});console.log(this.props);var a=this.state.transaction;return c.a.createElement(me.c,{style:{width:"100vw",height:"100vh",marginTop:"50px"}},a[0]?c.a.createElement(me.a,null,c.a.createElement(me.d,{size:"A6"},c.a.createElement(me.g,{style:t.oneTransactionContainer,className:"one-transaction-container"},c.a.createElement(me.g,{style:t.receiptContainer},c.a.createElement(me.f,null,"Receipt #: ",a[0].t_id),c.a.createElement(me.f,null,"Customer:"," ",a[0].first_name.length>0?c.a.createElement(me.g,null,a[0].first_name+" "+a[0].last_name):"None"),c.a.createElement(me.f,null,w()(a.t_date,"m/d/yy h:MM TT")),c.a.createElement(me.g,{style:t.allReceiptItems,className:"all-receipt-items"},a.map((function(e,a){return c.a.createElement(me.g,{style:t.receiptItemAndPrice,className:"receipt-item-and-price",key:a},c.a.createElement(me.f,null,e.name),c.a.createElement(me.f,null,e.price))}))),c.a.createElement(me.g,{style:t.subtotalTotalContainer,className:"subtotal-total-container"},c.a.createElement(me.f,null,"Subtotal: $",a.reduce((function(e,t){return e+parseInt(t.price)}),0).toFixed(2)),c.a.createElement(me.f,null,"Tax: $",(+a[0].total-a.reduce((function(e,t){return e+parseInt(t.price)}),0)).toFixed(2)),c.a.createElement(me.f,null,"Total: $",a[0].total)))))):c.a.createElement(me.a,null,c.a.createElement(me.d,{size:"A4"},c.a.createElement(me.g,null,c.a.createElement(me.f,null,"Loading...")))))}}]),a}(n.Component),pe=Object(o.g)(de),fe=function(e){var t=me.e.create({page:{flexDirection:"row"},section:{flexGrow:1}}),a=c.a.createElement(me.a,null,c.a.createElement(me.d,{size:"A4",style:t.page},c.a.createElement(me.g,{style:t.section},c.a.createElement(me.f,null,"Hello World!")),c.a.createElement(me.g,{style:t.section},c.a.createElement(me.f,null,"We're inside a PDF!"))));return c.a.createElement("div",{style:{marginTop:"50px"}},"hi",c.a.createElement("div",null,c.a.createElement(me.c,{style:{width:"100vw",height:"100vh"}},a)))},Ee=a(25),be=(a(492),Object(d.b)((function(e){return e}))((function(e){return e.employee.employee.is_admin?c.a.createElement("div",{className:"admin-page"},c.a.createElement("div",{className:"product-management-div"},c.a.createElement(Ee.b,{to:"/admin/addproduct"},c.a.createElement("div",{className:"add-product"},"add product")),c.a.createElement(Ee.b,{to:"/admin/manageproducts"},c.a.createElement("div",{className:"manage-products"},"manage products"))),c.a.createElement("div",{className:"employee-management-div"},c.a.createElement(Ee.b,{to:"/admin/addemployee"},c.a.createElement("div",{className:"add-employee"},"add employee")),c.a.createElement(Ee.b,{to:"/admin/deleteemployee"},c.a.createElement("div",{className:"delete-employee"},"delete employee")))):c.a.createElement(o.a,{from:"/admin",to:"/"})})));a(493);var he=function(){var e=u(""),t=Object(i.a)(e,3),a=t[0],r=t[1],l=t[2],o=u(""),s=Object(i.a)(o,3),d=s[0],p=s[1],f=s[2],E=u(""),b=Object(i.a)(E,3),h=b[0],v=b[1],g=b[2],O=Object(n.useState)("scoops"),y=Object(i.a)(O,2),j=y[0],N=y[1],_=Object(n.useState)(!0),x=Object(i.a)(_,2),S=x[0],T=x[1],w=k()(C.a);return c.a.createElement("div",{className:"add-product-box"},c.a.createElement("h1",{className:"new-product-title"},"add new product"),c.a.createElement("section",{className:"new-product-inputs"},c.a.createElement("input",Object.assign({placeholder:"name"},r,{type:"text"})),c.a.createElement("input",Object.assign({placeholder:"image url"},p,{type:"url"})),c.a.createElement("input",Object.assign({placeholder:"price"},v,{type:"number"})),c.a.createElement("select",{onChange:function(e){return N(e.target.value)},className:"product-type-dropdown",value:j},c.a.createElement("option",{value:"scoops",selected:!0},"scoops"),c.a.createElement("option",{value:"soft-serve"},"soft-serve"),c.a.createElement("option",{value:"toppings"},"toppings"),c.a.createElement("option",{value:"cones"},"cones")),c.a.createElement("label",{className:"new-product-availability",htmlFor:"available"},"product available?",c.a.createElement("select",{className:"product-available-dropdown",onChange:function(e){return T(e.target.value)},value:S},c.a.createElement("option",{value:"true"},"true"),c.a.createElement("option",{value:"false"},"false"))),c.a.createElement("div",{className:"add-product-btn",onClick:function(){m.a.post("/api/products",{name:a,p_image:d,price:h,p_type:j,available:S}).then((function(e){w.fire({icon:"success",title:"Success!",text:"New product added"})})).catch((function(e){console.log("Product not added",e)})),l(),f(),g()}},"add product")))},ve=(a(494),Object(d.b)((function(e){return e}),{getProducts:R})((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),f=p[0],E=p[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),v=h[0],g=h[1],O=Object(n.useState)(""),y=Object(i.a)(O,2),j=y[0],N=y[1],_=Object(n.useState)({}),C=Object(i.a)(_,2),x=C[0],k=C[1],S=Object(n.useState)(!0),T=Object(i.a)(S,2),w=T[0],F=T[1];e.product.products;Object(n.useEffect)((function(){m(x.name),E(x.p_image),g(x.price),N(x.p_type)}),[x.name,x.p_image,x.price,x.p_type]);var M=function(){m(""),E(""),g(""),N(""),l(!1),k({})};return c.a.createElement("div",null,r?c.a.createElement("div",null,c.a.createElement("input",{className:"edit-product-name",onChange:function(e){return m(e.target.value)},value:s}),c.a.createElement("input",{className:"edit-product-img",onChange:function(e){return E(e.target.value)},value:f}),c.a.createElement("input",{className:"edit-product-price",onChange:function(e){return g(e.target.value)},value:v}),c.a.createElement("select",{onChange:function(e){return N(e.target.value)},className:"product-type-dropdown",value:j},c.a.createElement("option",{value:"scoops"},"scoops"),c.a.createElement("option",{value:"soft-serve"},"soft-serve"),c.a.createElement("option",{value:"toppings"},"toppings"),c.a.createElement("option",{value:"cones"},"cones")),c.a.createElement("label",{className:"new-product-availability",htmlFor:"available"},"product available?",c.a.createElement("select",{className:"product-available-dropdown",onChange:function(e){return F(e.target.value)},value:w},c.a.createElement("option",{value:"true"},"true"),c.a.createElement("option",{value:"false"},"false"))),c.a.createElement("div",{className:"save-cancel-btns"},c.a.createElement("div",{className:"save-edits-btn",onClick:function(){!function(){var t=x.p_id;e.editProduct(t,{name:s,p_image:f,price:v,p_type:j,available:w}),M()}()}},"save edits"),c.a.createElement("div",{className:"cancel-edits-btn",onClick:function(){return M()}},"cancel"))):c.a.createElement("div",{className:"edit-organize-box"},c.a.createElement("div",{className:"product-labels-box"},c.a.createElement("label",{className:"product-labels"},"product name"),c.a.createElement("span",null,e.p.name),c.a.createElement("label",{className:"product-labels"},"product price"),c.a.createElement("span",null,"$",e.p.price," "),c.a.createElement("label",{className:"product-labels"},"product type"),c.a.createElement("span",null,e.p.p_type),c.a.createElement("label",{className:"product-labels"},"product available"),c.a.createElement("span",null,e.p.available?"true":"false")),c.a.createElement("div",{className:"edit-btn-box"},c.a.createElement("div",{className:"edit-product-btn",onClick:function(){return t=e.p,k(t),void l(!r);var t}},"edit product"))))}))),ge=(a(495),Object(d.b)((function(e){return e}),{getProducts:R})((function(e){var t=e.product.products,a=k()(C.a);Object(n.useEffect)((function(){r()}),[t.length]);var r=function(){m.a.get("/api/product").then((function(t){return e.getProducts(t.data)}))},l=function(e,t){m.a.put("/api/products/".concat(e),t).then((function(e){a.fire({icon:"success",title:"Success!",text:"Product updated"}),r()})).catch((function(e){return console.log(e)}))};return c.a.createElement("div",{className:"manage-products-box"},c.a.createElement("div",{className:"stats"},c.a.createElement("div",{className:"product-count"},"current number of products: ",t.length)),c.a.createElement("div",{className:"wrap-all-products"},t.sort((function(e,t){return t.p_id-e.p_id})).map((function(e,t){return c.a.createElement("div",{className:"product-display-box",key:t},c.a.createElement("div",{className:"product-img-box"},c.a.createElement("img",{className:"product-img",src:e.p_image})),c.a.createElement("div",{className:"product-wrapper"},c.a.createElement(ve,{key:t,p:e,editProduct:l})))}))))})));a(496);var Oe=function(e){var t=u(""),a=Object(i.a)(t,3),r=a[0],l=a[1],o=a[2],s=u(""),d=Object(i.a)(s,3),p=d[0],f=d[1],E=d[2],b=Object(n.useState)(!1),h=Object(i.a)(b,2),v=h[0],g=h[1],O=k()(C.a);return c.a.createElement("div",{className:"add-employee-box"},c.a.createElement("h1",{className:"new-employee-title"},"add new employee"),c.a.createElement("input",Object.assign({placeholder:"username"},l)),c.a.createElement("input",Object.assign({placeholder:"password",type:"password"},f)),c.a.createElement("label",{className:"admin-access",htmlFor:"is_admin"},"admin access",c.a.createElement("input",{onChange:function(){return g(!v)},type:"checkbox",value:"is_admin"})),c.a.createElement("div",{className:"add-employee-btn",onClick:function(){m.a.post("/api/admin/users",{username:r,password:p,is_admin:v}).then((function(e){console.log("hit",e),O.fire({icon:"success",title:"Success!",text:"New employee added"})})).catch((function(e){console.log("Employee not added",e)})),o(),E(),O.fire({icon:"success",title:"Success!",text:"New employee added"}),e.history.push("/admin")}},"add employee"),c.a.createElement("span",{className:"checkmark"}))},ye=(a(497),Object(d.b)((function(e){return e}),{getEmployee:h})((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){o()}),[r.length]);var o=function(){m.a.get("/api/admin/users").then((function(e){return l(e.data)}))};return c.a.createElement("div",{className:"del-employee-page"},c.a.createElement("div",{className:"del-employee-title"},"delete employee"),c.a.createElement("div",{className:"del-employee-box"},r.map((function(e,t){return c.a.createElement("div",{className:"employee-box"},c.a.createElement("label",{for:"username"},"username: "),c.a.createElement("div",{className:"employee-name",key:t},e.username),c.a.createElement("div",{className:"del-employee-btn",onClick:function(t){return C.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete!"}).then((function(t){var a;t.value&&C.a.fire("Deleted!","Employee has been deleted.","success")&&(a=e.user_id,m.a.delete("/api/admin/users/".concat(a)).then((function(e){o()})).catch((function(e){return console.log(e)})))}))}},"delete employee"))}))))}))),je=c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/",component:g}),c.a.createElement(o.b,{path:"/customers/:c_id",component:F}),c.a.createElement(o.b,{path:"/customers",component:S}),c.a.createElement(o.b,{path:"/checkout",component:G}),c.a.createElement(o.b,{exact:!0,path:"/transactions",component:ae}),c.a.createElement(o.b,{path:"/transactions/:t_id",component:ee}),c.a.createElement(o.b,{path:"/payment",component:ie}),c.a.createElement(o.b,{path:"/receipt/:t_id",component:pe}),c.a.createElement(o.b,{path:"/pdf",component:fe}),c.a.createElement(o.b,{exact:!0,path:"/admin",component:be}),c.a.createElement(o.b,{path:"/admin/addproduct",component:he}),c.a.createElement(o.b,{path:"/admin/manageproducts",component:ge}),c.a.createElement(o.b,{path:"/admin/addemployee",component:Oe}),c.a.createElement(o.b,{path:"/admin/deleteemployee",component:ye})),Ne=(a(498),Object(d.b)((function(e){return e}))((function(e){return c.a.createElement("header",{className:"nav-bar"},c.a.createElement("img",{id:"header-logo",src:v,alt:"moneta logo"}),c.a.createElement("div",{className:"nav-buttons"},e.employee.employee.is_admin?c.a.createElement(Ee.b,{className:"nav-button",to:"/admin"},"Admin"):null,c.a.createElement(Ee.b,{className:"nav-button",to:"/checkout"},"Checkout"),c.a.createElement(Ee.b,{className:"nav-button",to:"/customers"},"Customers"),c.a.createElement(Ee.b,{className:"nav-button",to:"/transactions"},"Transactions"),c.a.createElement(Ee.b,{onClick:function(){m.a.post("/api/auth/logout")},className:"nav-button",to:"/"},"Log Out")))})));var _e=Object(o.g)(Object(d.b)(null,{getEmployee:h})((function(e){return Object(n.useEffect)((function(){m.a.get("/api/auth/checkSession").then((function(t){e.getEmployee(t.data)}))})),c.a.createElement("div",{className:"App"},c.a.createElement(ce.Elements,null,"/"===e.location.pathname?c.a.createElement(c.a.Fragment,null,je):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne,null),je)))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=a(78),xe=a(264),ke=a(265),Se={search:""};var Te=Object(Ce.combineReducers)({employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return Object(p.a)(Object(p.a)({},e),{},{employee:n});case b:return Object(p.a)(Object(p.a)({},e),{},{employee:{}});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PRODUCTS_PENDING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"GET_PRODUCTS_FULFILLED":return Object(p.a)(Object(p.a)({},e),{},{products:n,loading:!1});case D:return Object(p.a)(Object(p.a)({},e),{},{products:n});case A:return Object(p.a)(Object(p.a)({},e),{},{products:{}});default:return e}},customer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case y:return Object(p.a)(Object(p.a)({},e),{},{customer:n});default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case K:return Object(p.a)(Object(p.a)({},e),{},{transactions:n});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;return t.type,t.payload,e}}),we=Object(Ce.createStore)(Te,Object(xe.composeWithDevTools)(Object(Ce.applyMiddleware)(ke.a)));a(499);l.a.render(c.a.createElement(ce.StripeProvider,{apiKey:"pk_test_8u6Lrlon9wtYgKKWbLBskzid00KB7Jpe5i"},c.a.createElement(Ee.a,null,c.a.createElement(d.a,{store:we},c.a.createElement(_e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[500,1,2]]]);
//# sourceMappingURL=main.6caf77b3.chunk.js.map